<?php

namespace App\Recipe;

use App\Recipe\Recipe;
use Symfony\Component\HttpFoundation\JsonResponse;

class RecipeController
{
    public function index()
    {
        return response()
            ->json($this->getRecipe());
    }

    public function show()
    {
        return response()
            ->json($this->getRecipe(1));
    }

    private function getRecipe($id = null)
    {
        $recipe1 = new Recipe(
            'Ham Sandwich',
            'The perfect blend between blandness and lazyness',
            'Get bread, butter it then stick ham in the middle fool!',
            1
        );
        $recipe1->setId(1);

        $recipe2 = new Recipe(
            'Ham Toastie',
            'A little less lazy makes a little less bland.',
            'Make a ham sandwich - but then like fry it or put it in a toastie maker or some shit.',
            1
        );
        $recipe2->setId(2);

        if (is_null($id)) {
            return [$recipe1, $recipe2];
        }

        if ($id === 1) {
            return $recipe1;
        }

        if ($id === 2) {
            return $recipe2;
        }

        return null;
    }
}
